# 엔티티 짜는 법

## id

```java
// Member 클래스 예시

@Id @GeneratedValue
@Column(name = "member_id")
private Long id;
```



## XtoOne

```java
// XtoOne은 무지성 LAZY 설정, XtoMany는 기본값이 LAZY

@ManyToOne(fetch = LAZY)
@JoinColumn(name = "member_id") // 외래키 지정
private Member member;

@OneToOne(fetch = LAZY, cascade = CascadeType.ALL)
@JoinColumn(name = "delivery_id")
private Delivery delivery;
```



## OnetoMany

```java
// ManytoMany는 왠만하면 쓰지말자
// XtoMany에 mappedBy (XtoOne 쪽이 주인)
// OnetoOne에 경우 둘 중 하나 잘 설정 

@OneToMany(mappedBy = "member") // 두 관계의 주인 설정
private List<Order> orders = new ArrayList<>();

@OneToMany(mappedBy = "order", cascade = CascadeType.ALL)
private List<OrderItem> orderItems = new ArrayList<>();
```



## DateTime

```java
private LocalDateTime orderDate; //주문시간
```



## EnumType

```java
@Enumerated(EnumType.STRING) // 왠만하면 STRING (ORDINAL 절대금지)
private OrderStatus status; //주문상태 [ORDER, CANCEL]

public enum OrderStatus {
    ORDER, CANCEL
}
```



## Embedded

```java
@Embedded
private Address address;

@Embeddable
@Getter
public class Address {

    private String city;
    private String street;
    private String zipcode;

    protected Address() { // 기본생성자 protected로 막기
    }

    public Address(String city, String street, String zipcode) {

        this.city = city;
        this.street = street;
        this.zipcode = zipcode;
    }
}
```

